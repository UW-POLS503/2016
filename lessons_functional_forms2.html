<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Functional Forms</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<link rel="stylesheet" href="libs/font-awesome-4.1.0/css/font-awesome.min.css"/>
<link rel="stylesheet" href="pols503.css"/>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/textmate.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>




</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="libs/navigation-1.0/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {
    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: "h1.title, .toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button"
              class="navbar-toggle collapsed"
              data-toggle="collapse"
              data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://UW-POLS503.github.io/pols_503_sp16">POLS/CS&amp;SS 503</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="schedule.html">Schedule</a></li>
        <li><a href="https://uw-pols503.github.io/pols503-notes/">Notes</a></li>
        <!-- start assignments dropdown -->
        <li class="dropdown">
          <a href="assignments" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Assignments <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <!-- ADD NEW ASSIGNMENTS HERE -->
            <li class="dropdown-header">Assignments</li>
            <li><a href="https://github.com/UW-POLS503/Assignment_01">Assignment 1</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Project</li>
            <li><a href="assignments_project_1.html">Project Assignment 1</a></li>
            <li><a href="assignments_project_2.html">Project Assignment 2</a></li>
            <li><a href="assignments_project_3.html">Project Assignment 3</a></li>
            <li><a href="data_analysis_project_paper_guidelines.html">Final Project</a></li>
             <li class="divider"></li>
            <li class="dropdown-header">Peer Review</li>
            <li><a href="assignments_peer_review_1.html">Peer Review 1</a></li>
          </ul>
        </li>
        <!-- end assignments dropdown -->
        <!-- start lessons dropdown -->
        <li class="dropdown">
          <a href="lessons" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Lessons <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <!-- ADD NEW LESSONS HERE -->
            <li><a href="lessons_install_R.html">Installing R</a></li>
            <li><a href="lessons_git.html">Getting Started with Git and GitHub</a></li>
            <li><a href="lessons_writing_functions.html">Writing Functions</a></li>
            <li><a href="lessons_loops_conditionals.html">Loops and Conditional Execution</a></li>
            <li><a href="lessons_functional_forms2.html">Functional Forms</a></li>
            <li><a href="lessons_imputation.html">Multiple Imputation</a></li>
          </ul>
        </li>
        <!-- end lessons dropdown -->
        <!-- start references dropdown -->
        <li class="dropdown">
          <a href="references" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">References <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <!-- ADD NEW REFERENCE PAGES HERE -->
            <li><a href="writing-advice.html">Writing Advice</a></li>
            <li><a href="latex4research.html">LaTeX</a></li>
            <li><a href="word4research.html">Word for Research</a></li>
            <li><a href="Rmarkdown.html">R Markdown</a></li>
            <li><a href="stata_to_R.html">Moving from Stata to R</a></li>
            <li><a href="submitting-assign.html"> Submitting Assignments</a></li>
          </ul>
        </li>
        <!-- end references dropdown -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/UW-POLS503/pols_503_sp16/issues">Report Bug</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->


<div class="fluid-row" id="header">


<h1 class="title">Functional Forms</h1>

</div>


<div id="learning-objectives" class="section level2">
<h2>Learning Objectives</h2>
<ul>
<li>Learning about multiple ways of transforming your covariates and specifing your models.</li>
</ul>
</div>
<div id="required-packages-and-datasets" class="section level2">
<h2>Required Packages and Datasets</h2>
<p>Install the packages if you still don’t have them (e.g. <code>install.packages(gapminder)</code>). If you don’t have the <code>uwpols501</code> package, you need to install it from GitHub. Install &amp; load the <code>devtools</code> package first, and then execute <code>install_github(&quot;UW-POLS501/r-uwpols501&quot;)</code>.</p>
<pre class="r"><code>library(dplyr)
library(uwpols501)
library(gapminder)
library(broom)
library(ggplot2)
data(gapminder)
data(turnout)</code></pre>
<p>Also go to the following link to download a WDI dataset from 1980 to 2010. <code>https://www.dropbox.com/s/qqb3vg66hxqfqzb/wdi_co2_gdp_1980_2010.csv?dl=0</code></p>
<p>Load the <code>wdi</code> dataset.</p>
<pre class="r"><code>wdi &lt;- read.csv(&quot;data/wdi_co2_gdp_1980_2010.csv&quot;)</code></pre>
</div>
<div id="intro" class="section level2">
<h2>Intro</h2>
<p>I use as a source of inspiration in this lesson Chris Adolph’s POLS-503 <a href="http://faculty.washington.edu/cadolph/503/topic5.pw.pdf">notes</a>.</p>
<p>In a linear model, any unit change of a given covariate has always the same effect on the outcome variable. If the coefficient for that covariate is for example 0.54, it doesn’t matter if the unit change is from 1 to 2 or from 100,001 to 100,002. The expected effect on the outcome variable is always the same: 0.54 increase in the units of the dependent variable.</p>
<p>However, theoretically we may sometimes think that the way a covariate affects the response variable is not linear. For example, is the relationship between <code>income</code> and <code>life expectancy</code> linear? Or Acemoglu and Robinson (2006) argue that the relationship between <code>inequality</code> and <code>democratization</code> follows a U-shape. How do we deal with this non-linear relationships? Can we still use a linear models to estimate them?</p>
<p><span class="math inline">\(y = \beta_{0} + \beta_{1}X_{1} + \beta_{2}X_{2}... + \epsilon\)</span></p>
</div>
<div id="logrithmic-transformations" class="section level2">
<h2>Logrithmic Transformations</h2>
<p>Think a little bit more about the relationship between Life Expectancy and GDP per capita. This relation is probably not linear. As the GDP per capita of a country increases, on average its citizens have more resources, better nutrition, etc., so you would expect the Life Expectancy of that country to increase. However, at least with the technology and medicines that are currently available, at a certain point Life Expectancy cannot keep increasing at the same rate or it cannot increase at all.</p>
<p>Load the <code>gapminder</code> dataset from the <code>gapminder</code> package. Estimate a model that portrays <code>lifeExp</code> as a linear function of <code>gdpPercap</code>.</p>
<p><span class="math inline">\(lifeExp = \beta_{0} + \beta_{1}gdpPercap + \epsilon\)</span></p>
<pre class="r"><code>mod1a &lt;- lm(lifeExp ~ gdpPercap, data = gapminder)</code></pre>
<p>Plot the <code>lifeExp</code> that we would predict using this model against the covariate <code>gdpPercap</code>.</p>
<pre class="r"><code>mod1a_augm &lt;- augment(mod1a, gapminder)
ggplot(mod1a_augm, aes(x = gdpPercap, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-4-1.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<p>Uau! This model predicts that the Life Expectancy in Kuwait is 140 years!</p>
<p>Plot now the outcome variable <code>lifeExp</code> against the response variable <code>gdpPercap</code>.</p>
<pre class="r"><code>ggplot(gapminder, aes(y = lifeExp, x = gdpPercap)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-5-1.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<p>This graphs clearly shows that in the beginning, a unit increase on <code>gdpPercap</code> matters a lot in explaining <code>lifeExp</code>. However, at some point, extra units increase do not make much of a difference. We call this type of relation a <em>Logarithmic Relation</em>. How can we specify this logarithmic relation in a linear model?</p>
<p>If we believe that there is a <em>logarithmic</em> relation between the outcome variable and a covariate, this is the same as saying that there is a <em>linear</em> relation between the outcome variable and the <span class="math inline">\(log\)</span> of the covariate. Thus, we just need to transform the covariate of interest by calculating its <span class="math inline">\(log\)</span> and then add the resulting variable to the linear model.</p>
<p>To show this, include a new variable to the <code>gapminder</code> dataset: the <em>log</em> of <code>gdpPercap</code>.</p>
<pre class="r"><code>gapminder &lt;- mutate(gapminder, log_gdpPercap = log(gdpPercap))</code></pre>
<p>Compare the distribution of <code>gdpPercap</code> and <code>log_gdpPercap</code> by looking at their <code>quantiles()</code>.</p>
<pre class="r"><code>data.frame(qGdp = quantile(gapminder$gdpPercap),
           qLogGdp = quantile(gapminder$log_gdpPercap))</code></pre>
<pre><code>##             qGdp   qLogGdp
## 0%      241.1659  5.485485
## 25%    1202.0603  7.091792
## 50%    3531.8470  8.169576
## 75%    9325.4623  9.140504
## 100% 113523.1329 11.639762</code></pre>
<p>Plot <code>lifeExp</code> against this new variable. Observe how there is a linear relation between the outcome and the <em>log</em> of the covariate. Observe also that <code>log_gdpPercap</code> is not expressed on the original units ($ per capita) anymore but in <em>log</em> $ per capita.</p>
<pre class="r"><code>ggplot(gapminder, aes(x = log_gdpPercap, y = lifeExp)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-8-1.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<p>Estimate a model now that portrays <code>lifeExp</code> as a linear function of the <em>log</em> of <code>gdpPercap</code>.</p>
<p><span class="math inline">\(lifeExp = \beta_{0} + \beta_{1}log(gdpPercap) + \epsilon\)</span></p>
<pre class="r"><code>mod1b &lt;- lm(lifeExp ~ log_gdpPercap, data = gapminder)</code></pre>
<p>Plot <code>mod1b</code>’s predicted values of <code>lifeExp</code> against <code>gdpPercap</code>.</p>
<pre class="r"><code>mod1b_augm &lt;- augment(mod1b, gapminder)
ggplot(mod1b_augm, aes(y = .fitted, x = gdpPercap)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-10-1.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<p>That makes a lot more sense!</p>
<p>Finally let’s see how well each model does in predicting the actual <code>lifeExp</code> values.</p>
<pre class="r"><code>ggplot(mod1a_augm, aes(x = lifeExp, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-11-1.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(mod1b_augm, aes(x = lifeExp, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-11-2.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<div id="challenge-1" class="panel panel-primary">
<div class="panel-heading">
<h3 class="panel-title">
Challenge
</h3>
</div>
<div class="panel-body">
<p>How would you create a dataset that contains the actual and predicted values of both models? Having such dataset would facilitate creating a side-by-side plot using the <code>facet_wrap</code> of <code>ggplot</code>.</p>
</div>
</div>
<div class="panel panel-info">
<div class="panel-heading">
<h3 class="panel-title">
<a data-toggle="collapse" href="#solution-1">Solution</a>
</h3>
</div>
<div id="solution-1" class="panel-collapse collapse">
<pre class="r"><code>predictions &lt;- NULL
models_list &lt;- list(mod1a, mod1b)
for (i in 1:length(models_list)) {
  m &lt;- models_list[[i]]
  new_data &lt;- data.frame(actual = m$model$lifeExp,
                         predicted = m$fitted.values,
                         model = i)
  predictions &lt;- rbind(predictions, new_data)
}</code></pre>
<pre class="r"><code>ggplot(predictions, aes(x = actual, y = predicted)) +
  geom_point() +
  facet_wrap(~model)</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-13-1.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="challenge-2" class="panel panel-primary">
<div class="panel-heading">
<h3 class="panel-title">
Challenge
</h3>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Look at the regression table for <code>mod1b</code>. How would you interpret the coefficients?</li>
<li>Can you think of any covariate that you use in your own projects that has a <em>logarithmic relation</em> with the outcome variable you study? Describe that relationship.</li>
</ol>
</div>
</div>
</div>
<div id="squared-terms" class="section level2">
<h2>Squared Terms</h2>
<p>Sometimes we believe that there is a U-shaped relation between a covariate and the dependent variable. For example, some scholars such as <a href="http://www.sterndavidi.com/publications_type.html">David I. Stern</a> argue that there is an <a href="https://en.wikipedia.org/wiki/Kuznets_curve#Environmental_Kuznets_curve">Environmental Kuznets Curve</a>. This means that there is an inverted U-shaped relation between environmental quality and economic growth.</p>
<p>As we discussed in the beginning, sometimes there is a squared relation between a covariate and our dependent variable of interest (e.g. <a href="https://en.wikipedia.org/wiki/Kuznets_curve">Kuznets curve</a>).</p>
<p><img src="img/env_curve.png" alt="Source: Wikipedia" /></p>
<p>How do we incorporate this theoretical expectation into a linera model? Using a <em>squared term</em>!</p>
<p>Estimate the following models:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(CO2emissions = \beta_{0} + \beta_{1}gdpCapita + \epsilon\)</span></li>
<li><span class="math inline">\(CO2emissions = \beta_{0} + \beta_{1}log(gdpCapita) + \epsilon\)</span></li>
<li><span class="math inline">\(CO2emissions = \beta_{0} + \beta_{1}gdpCapita + \beta_{2}gdpCapita^{2} + \epsilon\)</span></li>
</ol>
<p>Estimate the models and use the <code>augment</code> function to add the predicted values of <code>co2</code> to the dataset.</p>
<pre class="r"><code>mod2a &lt;- lm(co2 ~ gdpCapita, wdi)
mod2b &lt;- lm(co2 ~ gdpCapita + I(gdpCapita^2), wdi)
mod2c &lt;- lm(co2 ~ log(gdpCapita), wdi)
mod2a_aug &lt;- augment(mod2a, wdi)
mod2b_aug &lt;- augment(mod2b, wdi)
mod2c_aug &lt;- augment(mod2c, wdi)</code></pre>
<p>For the 3 models, plot the predicted values of <code>co2</code>against <code>gdpCapita</code>.</p>
<pre class="r"><code>ggplot(mod2a_aug, aes(x = gdpCapita, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-15-1.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(mod2b_aug, aes(x = gdpCapita, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-15-2.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(mod2c_aug, aes(x = gdpCapita, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-15-3.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<p>For the 3 models, plot the actual v. predicted values of <code>co2</code>.</p>
<pre class="r"><code>ggplot(mod2a_aug, aes(x = co2, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-16-1.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(mod2b_aug, aes(x = co2, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-16-2.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(mod2c_aug, aes(x = co2, y = .fitted)) +
  geom_point()</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-16-3.png" title="" alt="" width="480" style="display: block; margin: auto;" /></p>
<div id="challenge-3" class="panel panel-primary">
<div class="panel-heading">
<h3 class="panel-title">
Challenge
</h3>
</div>
<div class="panel-body">
<p>How would you create a dataset that contains the actual and predicted values of <code>co2</code>, and <code>gdpCapita</code> for the 3 models ? And how would you replicate the 2 types of plots we just used using the <code>facet_wrap</code>?</p>
</div>
</div>
<div class="panel panel-info">
<div class="panel-heading">
<h3 class="panel-title">
<a data-toggle="collapse" href="#solution-2">Solution</a>
</h3>
</div>
<div id="solution-2" class="panel-collapse collapse">
<pre class="r"><code>predictions2 &lt;- NULL
models_list2 &lt;- list(mod2a, mod2b, mod2c)
for (i in 1:length(models_list2)) {
  m &lt;- models_list2[[i]]
  new_data &lt;- data.frame(actual_co2 = m$model$co2,
                         predicted_co2 = m$fitted.values,
                         model = i)
  predictions2 &lt;- rbind(predictions2, new_data)
}
predictions2$gdpCapita &lt;- mod2a$model$gdpCapita</code></pre>
<pre class="r"><code>ggplot(predictions2, aes(x = gdpCapita, y = predicted_co2)) +
  geom_point() +
  facet_wrap(~model)</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-18-1.png" title="" alt="" width="480" /></p>
<pre class="r"><code>ggplot(predictions2, aes(x = actual_co2, y = predicted_co2)) +
  geom_point() +
  facet_wrap(~model)</code></pre>
<p><img src="lessons_functional_forms2_files/figure-html/unnamed-chunk-18-2.png" title="" alt="" width="480" /></p>
</div>
</div>
</div>

<!-- some extra javascript for older browsers -->
<script type="text/javascript" src="libs/polyfill.js"></script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
